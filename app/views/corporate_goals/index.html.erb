<%= index_bar(itens: {view_t(".corporate_goals") => nil }) do %>
  <%#= action_btn(content: view_t('add'), href: new_corporate_goal_path) %>
  <%= action_btn(content: view_t('add'), href: "#corporate_goal-modal-form", modal_trigger: true) %>
  <%#= action_btn(content: view_t('filter'), href: "#filter-corporate_goals-modal", modal_trigger: true, color: :blue) %>
<% end %>


<%= l_table do %>
  <%= t_header do %>
    <%= h_cell(text: view_t(".general_goal") )%>
    <%= h_cell(text: view_t(".assessment") )%>
    <%= h_cell(text: view_t(".period") )%>
    <%= h_cell(text: view_t(".target") )%>
    <%= h_cell(text: view_t(".mode") )%>
  <% end %>

  <%= t_body(elements: @corporate_goals) do |e| %>
    <%= b_row(link_to: corporate_goal_path(e)) do %>
      <%= b_cell(element: "#{e&.general_goal&.name}")%>
      <%= b_cell(element: "#{e&.assessment&.year}" || 'N/D')%>
      <%= b_cell(element: e&.enum_t(:period) || 'N/D')%>
      <%= b_cell(element: "#{e&.target}")%>
      <%= b_cell(element: e&.enum_t(:mode) || 'N/D')%>
    <% end %>
  <% end %>
<% end %>

<%= filter_modal(corporate_goals_url, "corporate_goals") do %>
    <div class="flex-row">
      <div class="flex-col-xs-12 flex-col-sm-3">

      </div>
    </div>
<% end %>

<%= render 'form', corporate_goal: @corporate_goal %>
